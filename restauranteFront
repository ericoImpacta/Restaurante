HTML

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sistema Restaurante</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Sistema Restaurante</h1>

    <!-- Cadastro Cliente -->
    <section>
        <h2>Cadastrar Cliente</h2>
        <form id="formCliente">
            <input type="text" id="nomeCliente" placeholder="Nome" required>
            <input type="email" id="emailCliente" placeholder="E-mail" required>
            <button type="submit">Cadastrar</button>
        </form>
    </section>

    <!-- Cadastro Restaurante -->
    <section>
        <h2>Cadastrar Restaurante</h2>
        <form id="formRestaurante">
            <input type="text" id="nomeRestaurante" placeholder="Nome" required>
            <input type="text" id="enderecoRestaurante" placeholder="Endereço" required>
            <button type="submit">Cadastrar</button>
        </form>
    </section>

    <!-- Cadastro Prato -->
    <section>
        <h2>Cadastrar Prato</h2>
        <form id="formPrato">
            <select id="restaurantePrato" required></select>
            <input type="text" id="nomePrato" placeholder="Nome do Prato" required>
            <input type="number" step="0.01" id="precoPrato" placeholder="Preço (R$)" required>
            <button type="submit">Cadastrar</button>
        </form>
    </section>

    <!-- Realizar Pedido -->
    <section>
        <h2>Realizar Pedido</h2>
        <form id="formPedido">
            <select id="clientePedido" required></select>
            <select id="restaurantePedido" required onchange="atualizarPratosPedido()"></select>
            <select id="pratoPedido" required></select>
            <button type="submit">Fazer Pedido</button>
        </form>
    </section>

    <p id="mensagem"></p>

    <script src="script.js"></script>
</body>
</html>
  

CSS 

body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f4f4f9;
    color: #333;
}

h1 {
    text-align: center;
    color: #2c3e50;
}

section {
    background: #fff;
    padding: 15px;
    margin: 15px auto;
    border-radius: 8px;
    box-shadow: 0px 2px 6px rgba(0,0,0,0.1);
    max-width: 400px;
}

form {
    display: flex;
    flex-direction: column;
}

input, select, button {
    margin: 5px 0;
    padding: 10px;
    font-size: 14px;
}

button {
    background: #27ae60;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background: #219150;
}

#mensagem {
    text-align: center;
    font-weight: bold;
    margin-top: 20px;
    color: #27ae60;
}


JS

const apiUrl = "http://127.0.0.1:5000";
const mensagem = document.getElementById("mensagem");

function mostrarMensagem(texto) {
    mensagem.textContent = texto;
    setTimeout(() => mensagem.textContent = "", 3000);
}

async function carregarClientes() {
    const res = await fetch(`${apiUrl}/clientes`);
    const data = await res.json();
    const select = document.getElementById("clientePedido");
    select.innerHTML = "";
    data.forEach(c => {
        const option = document.createElement("option");
        option.value = c.nome;
        option.textContent = c.nome;
        select.appendChild(option);
    });
}

async function carregarRestaurantes() {
    const res = await fetch(`${apiUrl}/restaurantes`);
    const data = await res.json();

    const selectPrato = document.getElementById("restaurantePrato");
    const selectPedido = document.getElementById("restaurantePedido");

    selectPrato.innerHTML = "";
    selectPedido.innerHTML = "";

    data.forEach(r => {
        const option1 = document.createElement("option");
        option1.value = r.nome;
        option1.textContent = r.nome;
        selectPrato.appendChild(option1);

        const option2 = document.createElement("option");
        option2.value = r.nome;
        option2.textContent = r.nome;
        selectPedido.appendChild(option2);
    });

    atualizarPratosPedido();
}

async function atualizarPratosPedido() {
    const restauranteNome = document.getElementById("restaurantePedido").value;
    if (!restauranteNome) return;

    const res = await fetch(`${apiUrl}/pratos/${restauranteNome}`);
    const data = await res.json();

    const selectPrato = document.getElementById("pratoPedido");
    selectPrato.innerHTML = "";

    data.forEach(p => {
        const option = document.createElement("option");
        option.value = p.nome;
        option.textContent = p.nome;
        selectPrato.appendChild(option);
    });
}

// Cliente
document.getElementById("formCliente").addEventListener("submit", async (e) => {
    e.preventDefault();
    const nome = document.getElementById("nomeCliente").value;
    const email = document.getElementById("emailCliente").value;

    const resp = await fetch(`${apiUrl}/cadastro/cliente`, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({nome, email})
    });

    const data = await resp.json();
    mostrarMensagem(data.mensagem || data.message);

    document.getElementById("formCliente").reset();
    carregarClientes();
});

// Restaurante
document.getElementById("formRestaurante").addEventListener("submit", async (e) => {
    e.preventDefault();
    const nome = document.getElementById("nomeRestaurante").value;
    const endereco = document.getElementById("enderecoRestaurante").value;

    const resp = await fetch(`${apiUrl}/cadastro/restaurante`, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({nome, endereco})
    });

    const data = await resp.json();
    mostrarMensagem(data.mensagem || data.message);

    document.getElementById("formRestaurante").reset();
    carregarRestaurantes();
});

// Prato
document.getElementById("formPrato").addEventListener("submit", async (e) => {
    e.preventDefault();
    const restaurante_nome = document.getElementById("restaurantePrato").value;
    const nome = document.getElementById("nomePrato").value;
    const preco = document.getElementById("precoPrato").value;

    const resp = await fetch(`${apiUrl}/cadastro/prato`, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({restaurante_nome, nome, preco})
    });

    const data = await resp.json();
    mostrarMensagem(data.mensagem || data.message);

    document.getElementById("formPrato").reset();
    atualizarPratosPedido();
});

// Pedido
document.getElementById("formPedido").addEventListener("submit", async (e) => {
    e.preventDefault();
    const cliente_nome = document.getElementById("clientePedido").value;
    const restaurante_nome = document.getElementById("restaurantePedido").value;
    const prato_nome = document.getElementById("pratoPedido").value;

    const resp = await fetch(`${apiUrl}/pedido`, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({cliente_nome, restaurante_nome, prato_nome})
    });

    const data = await resp.json();
    mostrarMensagem(data.mensagem || data.message);
    document.getElementById("formPedido").reset();
});

document.getElementById("restaurantePedido").addEventListener("change", atualizarPratosPedido);

// Inicializa selects
carregarClientes();
carregarRestaurantes();

